<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Lua PulseAudio DBus Documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>pulseaudio_dbus</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_Core">Class Core </a></li>
<li><a href="#Class_Stream">Class Stream </a></li>
<li><a href="#Class_Device">Class Device </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>pulseaudio_dbus</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/README.md.html">README</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>pulseaudio_dbus</code></h1>
<p>Control audio devices using the
  <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/">pulseaudio DBus interface</a>.</p>
<p>  For this to work, you need the line
  <code>load-module module-dbus-protocol</code>
  in <code>/etc/pulse/default.pa</code>
  or <code>~/.config/pulse/default.pa</code></p>
    <h3>Usage:</h3>
    <ul>
        <pre class="example">pulse = require(&quot;pulseaudio_dbus&quot;)
address = pulse.get_address()
connection = pulse.get_connection(address)
core = pulse.get_core(connection)
sink = pulse.get_device(connection, core:get_sinks()[1])
sink:set_muted(true)
sink:toggle_muted()
assert(not sink:is_muted())
sink:set_volume_percent({75}) -- sets the volume to 75%
</pre>
    </ul>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2017 Stefano Mazzucco</li>
        <li><strong>License</strong>: Apache License, version 2.0</li>
        <li><strong>Author</strong>: Stefano Mazzucco <stefano AT curso DOT re></li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#pulse.get_address">pulse.get_address ()</a></td>
	<td class="summary">Get the pulseaudio DBus address</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.get_connection">pulse.get_connection (address[, dont_assert])</a></td>
	<td class="summary">Get a connection to the pulseaudio server</td>
	</tr>
</table>
<h2><a href="#Class_Core">Class Core </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:get_sinks">pulse.Core:get_sinks ()</a></td>
	<td class="summary">Get all currently available sinks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:get_cards">pulse.Core:get_cards ()</a></td>
	<td class="summary">Get all currently available cards.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:get_sources">pulse.Core:get_sources ()</a></td>
	<td class="summary">Get all currently available sources.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:get_fallback_sink">pulse.Core:get_fallback_sink ()</a></td>
	<td class="summary">Get the current fallback sink object path</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:set_fallback_sink">pulse.Core:set_fallback_sink (value)</a></td>
	<td class="summary">Set the current fallback sink object path</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:get_fallback_source">pulse.Core:get_fallback_source ()</a></td>
	<td class="summary">Get the current fallback source object path</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Core:set_fallback_source">pulse.Core:set_fallback_source (value)</a></td>
	<td class="summary">Set the current fallback source object path</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.get_core">pulse.get_core (connection)</a></td>
	<td class="summary">Get the pulseaudio <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Core/">core object</a></td>
	</tr>
</table>
<h2><a href="#Class_Stream">Class Stream </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#pulse.get_stream">pulse.get_stream (connection)</a></td>
	<td class="summary">Get the pulseaudio <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Stream/">Stream</a></td>
	</tr>
</table>
<h2><a href="#Class_Device">Class Device </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:get_state">pulse.Device:get_state ()</a></td>
	<td class="summary">Get the current state of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:get_volume">pulse.Device:get_volume ()</a></td>
	<td class="summary">Get the volume of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:get_volume_percent">pulse.Device:get_volume_percent ()</a></td>
	<td class="summary">Get the volume of the device as a percentage.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:set_volume">pulse.Device:set_volume (value)</a></td>
	<td class="summary">Set the volume of the device on each channel.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:set_volume_percent">pulse.Device:set_volume_percent (value)</a></td>
	<td class="summary">Set the volume of the device as a percentage on each channel.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:volume_up">pulse.Device:volume_up ()</a></td>
	<td class="summary">Step up the volume (percentage) by an amount equal to
 <code>self.volume_step</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:volume_down">pulse.Device:volume_down ()</a></td>
	<td class="summary">Step down the volume (percentage) by an amount equal to
 <code>self.volume_step</code>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:is_muted">pulse.Device:is_muted ()</a></td>
	<td class="summary">Get whether the device is muted.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:set_muted">pulse.Device:set_muted (value)</a></td>
	<td class="summary">Set the muted state of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.Device:toggle_muted">pulse.Device:toggle_muted ()</a></td>
	<td class="summary">Toggle the muted state of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pulse.get_device">pulse.get_device (connection, path[, volume_step[, volume_max]])</a></td>
	<td class="summary">Get an DBus proxy object to a pulseaudio
 <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Device/">Device</a>.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "pulse.get_address"></a>
    <strong>pulse.get_address ()</strong>
    </dt>
    <dd>
    Get the pulseaudio DBus address



    <h3>Returns:</h3>
    <ol>

        a string representing the pulseaudio
 <a href="https://dbus.freedesktop.org/doc/dbus-tutorial.html#addresses">DBus address</a>.
    </ol>




</dd>
    <dt>
    <a name = "pulse.get_connection"></a>
    <strong>pulse.get_connection (address[, dont_assert])</strong>
    </dt>
    <dd>
    Get a connection to the pulseaudio server


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">address</span>
            <span class="types"><span class="type">string</span></span>
         DBus address
        </li>
        <li><span class="parameter">dont_assert</span>
            <span class="types"><span class="type">boolean</span></span>
         whether we should <em>not</em> assert that the
 connection is closed.
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        an <code>lgi.Gio.DBusConnection</code> to the pulseaudio server
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.get_address">pulse.get_address</a>
    </ul>


</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Core"></a>Class Core </h2>

          <div class="section-description">
          Pulseaudio
 <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Core/">core server functionality</a>
          </div>
    <dl class="function">
    <dt>
    <a name = "pulse.Core:get_sinks"></a>
    <strong>pulse.Core:get_sinks ()</strong>
    </dt>
    <dd>
    Get all currently available sinks.
 Note the the <code>Sinks</code> property may not be up-to-date.



    <h3>Returns:</h3>
    <ol>

        array of all available object path sinks
    </ol>




</dd>
    <dt>
    <a name = "pulse.Core:get_cards"></a>
    <strong>pulse.Core:get_cards ()</strong>
    </dt>
    <dd>
    Get all currently available cards.
 Note the the <code>Cards</code> property may not be up-to-date.



    <h3>Returns:</h3>
    <ol>

        array of all available object path cards
    </ol>




</dd>
    <dt>
    <a name = "pulse.Core:get_sources"></a>
    <strong>pulse.Core:get_sources ()</strong>
    </dt>
    <dd>
    Get all currently available sources.
 Note the the <code>Sources</code> property may not be up-to-date.



    <h3>Returns:</h3>
    <ol>

        array of all available object path sources
    </ol>




</dd>
    <dt>
    <a name = "pulse.Core:get_fallback_sink"></a>
    <strong>pulse.Core:get_fallback_sink ()</strong>
    </dt>
    <dd>
    Get the current fallback sink object path



    <h3>Returns:</h3>
    <ol>
        <li>
        fallback sink object path (may not be up-to-date)</li>
        <li>
        nil if no falback sink is set</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Core:set_fallback_sink">pulse.Core:set_fallback_sink</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Core:set_fallback_sink"></a>
    <strong>pulse.Core:set_fallback_sink (value)</strong>
    </dt>
    <dd>
    Set the current fallback sink object path


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">string</span></span>
         fallback sink object path
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Core:get_fallback_sink">pulse.Core:get_fallback_sink</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Core:get_fallback_source"></a>
    <strong>pulse.Core:get_fallback_source ()</strong>
    </dt>
    <dd>
    Get the current fallback source object path



    <h3>Returns:</h3>
    <ol>
        <li>
        fallback source object path</li>
        <li>
        nil if no fallback source is set</li>
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Core:set_fallback_source">pulse.Core:set_fallback_source</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Core:set_fallback_source"></a>
    <strong>pulse.Core:set_fallback_source (value)</strong>
    </dt>
    <dd>
    Set the current fallback source object path


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">string</span></span>
         fallback source object path
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Core:get_fallback_source">pulse.Core:get_fallback_source</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.get_core"></a>
    <strong>pulse.get_core (connection)</strong>
    </dt>
    <dd>
    Get the pulseaudio <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Core/">core object</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">connection</span>
            <span class="types"><span class="type">lgi.Gio.DBusConnection</span></span>
         DBus connection to the
 pulseaudio server
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the pulseaudio core object that allows you to access the
 various sound devices
    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Stream"></a>Class Stream </h2>

          <div class="section-description">
          Pulseaudio
 <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Stream/">Stream</a>
 Use <a href="index.html#pulse.get_stream">pulse.get_stream</a> to obtain a stream object.
          </div>
    <dl class="function">
    <dt>
    <a name = "pulse.get_stream"></a>
    <strong>pulse.get_stream (connection)</strong>
    </dt>
    <dd>
    Get the pulseaudio <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Stream/">Stream</a>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">connection</span>
            <span class="types"><span class="type">lgi.Gio.DBusConnection</span></span>
         DBus connection to the
 pulseaudio server
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A new Stream object
    </ol>




</dd>
</dl>
    <h2 class="section-header has-description"><a name="Class_Device"></a>Class Device </h2>

          <div class="section-description">
          Pulseaudio
 <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Device/">Device</a>.  <br>
 Use <a href="index.html#pulse.get_device">pulse.get_device</a> to obtain a device object.
          </div>
    <dl class="function">
    <dt>
    <a name = "pulse.Device:get_state"></a>
    <strong>pulse.Device:get_state ()</strong>
    </dt>
    <dd>

<p>Get the current state of the device.  This can be one of:</p>

<ul>
    <li>"running": the device is being used by at least one non-corked stream.</li>
    <li>"idle": the device is active, but no non-corked streams are connected to it.</li>
    <li>"suspended": the device is not in use and may be currently closed.</li>
</ul>




    <h3>Returns:</h3>
    <ol>

        the device state as a string
    </ol>




</dd>
    <dt>
    <a name = "pulse.Device:get_volume"></a>
    <strong>pulse.Device:get_volume ()</strong>
    </dt>
    <dd>
    Get the volume of the device.
 You could also use the <code>Device.Volume</code> field, but it's not guaranteed
 to be in sync with the actual changes.



    <h3>Returns:</h3>
    <ol>

        the volume of the device as an array of numbers
 (one number) per channel
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:get_volume_percent">pulse.Device:get_volume_percent</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:get_volume_percent"></a>
    <strong>pulse.Device:get_volume_percent ()</strong>
    </dt>
    <dd>
    Get the volume of the device as a percentage.



    <h3>Returns:</h3>
    <ol>

        the volume of the device as an array of numbers
 (one number) per channel
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:get_volume">pulse.Device:get_volume</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:set_volume"></a>
    <strong>pulse.Device:set_volume (value)</strong>
    </dt>
    <dd>
    Set the volume of the device on each channel.
 You could also use the <code>Device.Volume</code> field, but it's not guaranteed
 to be in sync with the actual changes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">table</span></span>
         an array with the value of the volume.
 If the array contains only one element, its value will be set
 for all channels.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:set_volume_percent">pulse.Device:set_volume_percent</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:set_volume_percent"></a>
    <strong>pulse.Device:set_volume_percent (value)</strong>
    </dt>
    <dd>
    Set the volume of the device as a percentage on each channel.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">table</span></span>
         an array with the value of the volume.
 If the array contains only one element, its value will be set
 for all channels.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:set_volume">pulse.Device:set_volume</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:volume_up"></a>
    <strong>pulse.Device:volume_up ()</strong>
    </dt>
    <dd>
    Step up the volume (percentage) by an amount equal to
 <code>self.volume_step</code>.
 Calling this function will never set the volume above <code>self.volume_max</code>





    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:volume_down">pulse.Device:volume_down</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:volume_down"></a>
    <strong>pulse.Device:volume_down ()</strong>
    </dt>
    <dd>
    Step down the volume (percentage) by an amount equal to
 <code>self.volume_step</code>.
 Calling this function will never set the volume below zero (which is,
 by the way, an error).





    <h3>See also:</h3>
    <ul>
         <a href="index.html#pulse.Device:volume_up">pulse.Device:volume_up</a>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:is_muted"></a>
    <strong>pulse.Device:is_muted ()</strong>
    </dt>
    <dd>
    Get whether the device is muted.



    <h3>Returns:</h3>
    <ol>

        a boolean value that indicates whether the device is muted.
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#pulse.Device:toggle_muted">pulse.Device:toggle_muted</a></li>
         <li><a href="index.html#pulse.Device:set_muted">pulse.Device:set_muted</a></li>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:set_muted"></a>
    <strong>pulse.Device:set_muted (value)</strong>
    </dt>
    <dd>
    Set the muted state of the device.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">boolean</span></span>
         whether the device should be muted
 You could also use the <code>Device.Mute</code> field, but it's not guaranteed
 to be in sync with the actual changes.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#pulse.Device:is_muted">pulse.Device:is_muted</a></li>
         <li><a href="index.html#pulse.Device:toggle_muted">pulse.Device:toggle_muted</a></li>
    </ul>


</dd>
    <dt>
    <a name = "pulse.Device:toggle_muted"></a>
    <strong>pulse.Device:toggle_muted ()</strong>
    </dt>
    <dd>
    Toggle the muted state of the device.



    <h3>Returns:</h3>
    <ol>

        a boolean value that indicates whether the device is muted.
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#pulse.Device:set_muted">pulse.Device:set_muted</a></li>
         <li><a href="index.html#pulse.Device:is_muted">pulse.Device:is_muted</a></li>
    </ul>


</dd>
    <dt>
    <a name = "pulse.get_device"></a>
    <strong>pulse.get_device (connection, path[, volume_step[, volume_max]])</strong>
    </dt>
    <dd>
    Get an DBus proxy object to a pulseaudio
 <a href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/Developer/Clients/DBus/Device/">Device</a>.  <br>
 Setting a property will be reflected on the pulseaudio device.
 Trying to set other properties will result in an error.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">connection</span>
            <span class="types"><span class="type">lgi.Gio.DBusConnection</span></span>
         The connection to pulseaudio
        </li>
        <li><span class="parameter">path</span>
            <span class="types"><span class="type">string</span></span>
         The device object path as a string
        </li>
        <li><span class="parameter">volume_step</span>
            <span class="types"><span class="type">number</span></span>
         The volume step in % (defaults to 5)
         (<em>optional</em>)
        </li>
        <li><span class="parameter">volume_max</span>
            <span class="types"><span class="type">number</span></span>
         The maximum volume in % (defaults to 150)
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A new Device object
    </ol>


    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#pulse.get_connection">pulse.get_connection</a></li>
         <li><a href="index.html#pulse.get_core">pulse.get_core</a></li>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">-- get a pulseaudio sink (e.g. audio output)
</span>sink = pulse.get_device(connection, core:get_sinks()[<span class="number">1</span>])
<span class="comment">-- get a pulseaudio source (e.g. microphone)
</span>source = pulse.get_device(connection, core:get_sources([<span class="number">1</span>]))</pre>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-11-02 22:33:04 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
